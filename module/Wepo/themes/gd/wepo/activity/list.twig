{% extends 'partial/list.twig' %}

{% set title = translate('Activities') %}

{% block leftlink %}
    <a class="titleCallIcon" href="{{ url( 'activity', { 'action': 'add', 'activity': 'call' } )~saurl }}" title="{{translate("New call")}}"></a>
    <a class="titleTaskIcon" href="{{ url( 'activity', { 'action': 'add', 'activity': 'task' } )~saurl }}" title="{{translate('New task')}}"></a>
    <a class="titleEventIcon" href="{{ url( 'activity', { 'action': 'add', 'activity': 'event' } )~saurl }}" title="{{translate('New event')}}"></a>
{% endblock leftlink %}
{% block rightlink %}
    <a href="{{ url( 'setup', { 'action': 'view', 'table':table.id } )~saurl }}">
                    {{ translate('Output fields') }}
                </a>
{% endblock rightlink %}
{% block data %}
    {% include 'partial/activity-list.twig' %}
{% endblock data %}

{% block action %}
    <a class="actionview" href="{{ url( 'activity', { 'action': 'view','id':avalue.id() } )~saurl }}"><img src="/img/1.png" class="view"  alt="{{translate('View')}}" /><span class="tooltip top">View</span></a>&nbsp;
    {% if avalue.type_id == '5295fdf7c5b9f222acd3c757' %}
        {% set activitytype = 'call' %}
    {% elseif avalue.type_id == '5295fdf7c5b9f222acd3c758' %}
        {% set activitytype = 'task' %}
    {% elseif avalue.type_id == '5295fdf7c5b9f222acd3c759' %}
        {% set activitytype = 'event' %}
    {%endif%}
    <a class="actionview" href="{{ url( 'activity', { 'action': 'edit', 'activity': activitytype, 'id':avalue.id() } )~saurl }}"><img src="/img/1.png" class="edit"  alt="{{translate('Edit')}}" /><span class="tooltip top">Edit</span></a>

    <a class="actionview" href="{{ url( 'activity', { 'action': 'delete','id':avalue.id() } )~saurl }}"><img src="/img/1.png" class="delete" alt="{{translate('Delete')}}" /><span class="tooltip top">Delete</span></a>
{% endblock action %}
